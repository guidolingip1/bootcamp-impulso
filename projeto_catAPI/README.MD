## Resultado

### Tenho um projeto exatamente igual a este publicado em [Invocacao dos Miau](https://github.com/guidolingip1/Gerador_de_gatos)

## Mas se estiver com pregui√ßa aqui vai o Readme dele

---

# Gerador de gatos

![Miau](https://github.com/guidolingip1/Gerador_de_gatos/blob/main/miau.gif)

### Bora consumir uma API com NodeJS?

Primeiro precisamos encontrar uma API, de prefer√™ncia que seja Gr√°tis.

1. Link para diversas APIs p√∫blicas -> https://github.com/public-apis/public-apis
2. Link para a API que eu utilizei no projeto -> https://docs.thecatapi.com

### Pr√≥ximo Passo

Agora que escolhemos nossa API vamos iniciar nosso projeto

1. V√° at√© o local onde voc√™ vai querer salvar seu projeto
2. Dentro da pasta crie um react-app com o seguinte comando

   npx create-react app nome-do-seu-projeto

3. Ap√≥s isso abra a pasta que foi gerada no seu editor de escolha

### Criando nosso componente Gatos

1. Dentro da pasta do seu projeto crie um arquivo chamdo Gatos.js
2. Por ser um projeto pequeno, colocaremos tudo que vamos utilizar dentro deste componente

### Codando nosso componente üêà.js

Come√ßamos criando um componente vazio, assim.

    const  Gatos  = () => {
        return (
            <div  className="gatos">
    	        Meaw
            </div>
        );
    }

        export  default  Gatos;

Como podemos observar na √∫ltima linha estamos exportando Gatos, logo podemos importa-los em outro componente e utilizarmos a vontade.
Mas antes temos que codar os üêà

### Depois de criado o componente vazio, vamos fazer um front simples

    const  Gatos  = () => {
        return (
    	    <div  className="containerFora">
    		    <div  className="container">

    			    <h1>Invoca√ß√£o dos Miau üòª</h1>
    			    <img  src={url}  className='gatoImg'  />
    			    <button  onClick={fetch_data}  className='btn'>Gerar Miau</button>

    		    </div>
    	    </div>

        );
    }

    export  default  Gatos;

Explicando o c√≥digo de dentro do return

1. Temos duas divs que s√£o para est√©tica/organiza√ß√£o, por√©m temos que levar em considera√ß√£o que o conte√∫do retornado precisa estar dentro de uma div obrigat√≥ria ou um fragmento (<> </>).
2. Dentro das divs temos o conte√∫do que √© o mostrado em tela h1, img e t√≠tulo
3. Podemos ver que dentro do button onClick temos fetch_data, n√£o se preocupe veremos adiante essa fun√ß√£o.

### Adicionando um css para ficar "bonitinho"

Como o CSS n√£o √© o foco do artigo, irei apenas postar o C√≥digo
N√£o esque√ßam de criar um arquivo .css e chamar ele em app.js

    .containerFora {
        width:  100%;
        display:  flex;
    	align-items:  center;
        justify-content:  center;
    }

    .container {
        width:  50%;
        display:  flex;
        flex-direction:  column;
        align-items:  center;
        justify-content:  center;
        background:  linear-gradient(13deg, #ffd4f4  14%,#d2c5fc  73%);
        background:  -moz-linear-gradient(13deg, #ffd4f4  14%,#d2c5fc  73%);
        background:  -webkit-linear-gradient(13deg, #ffd4f4  14%,#d2c5fc  73%);
        border-radius:  10px  10px  10px  10px;
        box-shadow:  7px  8px  12px  #e8e8e8;
        margin-top:  100px;
    }

    .gatoImg {
        object-fit:  cover;
        width:  350px;
        height:  350px;
        padding:  30px;
    }

    .btn {
        width:  300px;
        height:  35px;
        margin-bottom:  35px;
        border-radius:  8px;
    }

### Agora que a parte est√©tica est√° pronta vamos consumir a API usando Fetch

A Gui mas o que √© fetch?
fetch() √© uma fun√ß√£o do javascript para fazer uma requisi√ß√£o a um servidor e carregar a informa√ß√£o em uma p√°gina.

Dentro de Gatos.js criaremos nossa fun√ß√£o fetch, como no exemplo abaixo

    import { useState } from  "react"; //Importamos o useState pois usaremos para setar nossa URL

    const  Gato  = () => {
    	//Usaremos URL e setURL para fazer o update da URL quando clicarmos no bot√£o novamente
        const [url, setUrl] =  useState();

        //Vamos consumir nossa api com um fetch()
        function  fetch_data() {
    	    fetch('https://api.thecatapi.com/v1/images/search').then(res  => {
    		    if(res.ok){
    			    return  res.json();
    		    }
    		    throw  new  Error('Failed to fetch');
            }).then(jsonRes  => {
    		    console.log(jsonRes)
    		    setUrl(jsonRes[0].url);
    	    })
        }

        return (
    		    <div  className="containerFora">
    			    <div  className="container">
    				    <h1>Invoca√ß√£o dos Miau üòª</h1>
    				    <img  src={url}  className='gatoImg'  />
    				    <button  onClick={fetch_data}  className='btn'>Gerar Miau</button>
    			    </div>
    		    </div>
    	    );
    }

    export  default  Gato;

Explicando a fun√ß√£o fetch()

1. fetch('https://api.thecatapi.com/v1/images/search'), aqui estamos fazendo uma requisi√ß√£o de informa√ß√£o desta url
2. Ent√£o usamos o .then que √© uma fun√ß√£o promise "promessa" , que √© ass√≠ncrona e √© perfeita para lidar com APIs, b√°sicamente dentro do .then() estamos dizendo o seguinte se a resposta do fetch for OK ent√£o, a fun√ß√£o retorna um JSON (JavaScript Object Notation) contendo as informa√ß√µs do üêà que recebemos.
3. Se n√£o retornar OK, Lan√ßamos um erro "throw new Error('Failed to fetch');"
4. E depois de tudo isso a gente them outro .then() onde vamos pegar nosso objeto JSON, imprimir ele no console e pegar o valor URL de dentro do par√¢metro 0.

### Como eu descobri qual par√¢metro usar?

Eu dei um console.log do objeto

    [{‚Ä¶}]
        0: {
    	    breeds: Array(0),
    	    id: "c9g",
    	    url: "https://cdn2.thecatapi.com/images/c9g.jpg",
    	    width: 768,
    	    height: 1024
    	    }

## Conclus√£o

Nenhuma, esse projeto foi muito sem no√ß√£o<br>
Espero que voc√™s tenham gostado, se sim, deixem um curtir/gostei, √© muito importante.<br>
Cuidem dos seus üêàüêà
